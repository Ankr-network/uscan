var r,n={exports:{}};r=n,function(n){const t=2147483647;function e(r){const n=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let t=1779033703,e=3144134277,o=1013904242,f=2773480762,i=1359893119,u=2600822924,l=528734635,s=1541459225;const c=new Uint32Array(64);function a(r){let a=0,h=r.length;for(;h>=64;){let p,w,y,g,b,A=t,m=e,U=o,d=f,E=i,k=u,I=l,x=s;for(w=0;w<16;w++)y=a+4*w,c[w]=(255&r[y])<<24|(255&r[y+1])<<16|(255&r[y+2])<<8|255&r[y+3];for(w=16;w<64;w++)p=c[w-2],g=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=c[w-15],b=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,c[w]=(g+c[w-7]|0)+(b+c[w-16]|0)|0;for(w=0;w<64;w++)g=(((E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7))+(E&k^~E&I)|0)+(x+(n[w]+c[w]|0)|0)|0,b=((A>>>2|A<<30)^(A>>>13|A<<19)^(A>>>22|A<<10))+(A&m^A&U^m&U)|0,x=I,I=k,k=E,E=d+g|0,d=U,U=m,m=A,A=g+b|0;t=t+A|0,e=e+m|0,o=o+U|0,f=f+d|0,i=i+E|0,u=u+k|0,l=l+I|0,s=s+x|0,a+=64,h-=64}}a(r);let h,p=r.length%64,w=r.length/536870912|0,y=r.length<<3,g=p<56?56:120,b=r.slice(r.length-p,r.length);for(b.push(128),h=p+1;h<g;h++)b.push(0);return b.push(w>>>24&255),b.push(w>>>16&255),b.push(w>>>8&255),b.push(w>>>0&255),b.push(y>>>24&255),b.push(y>>>16&255),b.push(y>>>8&255),b.push(y>>>0&255),a(b),[t>>>24&255,t>>>16&255,t>>>8&255,t>>>0&255,e>>>24&255,e>>>16&255,e>>>8&255,e>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,f>>>24&255,f>>>16&255,f>>>8&255,f>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255]}function o(r,n,t){r=r.length<=64?r:e(r);const o=64+n.length+4,f=new Array(o),i=new Array(64);let u,l=[];for(u=0;u<64;u++)f[u]=54;for(u=0;u<r.length;u++)f[u]^=r[u];for(u=0;u<n.length;u++)f[64+u]=n[u];for(u=o-4;u<o;u++)f[u]=0;for(u=0;u<64;u++)i[u]=92;for(u=0;u<r.length;u++)i[u]^=r[u];function s(){for(let r=o-1;r>=o-4;r--){if(f[r]++,f[r]<=255)return;f[r]=0}}for(;t>=32;)s(),l=l.concat(e(i.concat(e(f)))),t-=32;return t>0&&(s(),l=l.concat(e(i.concat(e(f))).slice(0,t))),l}function f(r,n,t,e,o){let f;for(s(r,16*(2*t-1),o,0,16),f=0;f<2*t;f++)l(r,16*f,o,16),u(o,e),s(o,0,r,n+16*f,16);for(f=0;f<t;f++)s(r,n+2*f*16,r,16*f,16);for(f=0;f<t;f++)s(r,n+16*(2*f+1),r,16*(f+t),16)}function i(r,n){return r<<n|r>>>32-n}function u(r,n){s(r,0,n,0,16);for(let t=8;t>0;t-=2)n[4]^=i(n[0]+n[12],7),n[8]^=i(n[4]+n[0],9),n[12]^=i(n[8]+n[4],13),n[0]^=i(n[12]+n[8],18),n[9]^=i(n[5]+n[1],7),n[13]^=i(n[9]+n[5],9),n[1]^=i(n[13]+n[9],13),n[5]^=i(n[1]+n[13],18),n[14]^=i(n[10]+n[6],7),n[2]^=i(n[14]+n[10],9),n[6]^=i(n[2]+n[14],13),n[10]^=i(n[6]+n[2],18),n[3]^=i(n[15]+n[11],7),n[7]^=i(n[3]+n[15],9),n[11]^=i(n[7]+n[3],13),n[15]^=i(n[11]+n[7],18),n[1]^=i(n[0]+n[3],7),n[2]^=i(n[1]+n[0],9),n[3]^=i(n[2]+n[1],13),n[0]^=i(n[3]+n[2],18),n[6]^=i(n[5]+n[4],7),n[7]^=i(n[6]+n[5],9),n[4]^=i(n[7]+n[6],13),n[5]^=i(n[4]+n[7],18),n[11]^=i(n[10]+n[9],7),n[8]^=i(n[11]+n[10],9),n[9]^=i(n[8]+n[11],13),n[10]^=i(n[9]+n[8],18),n[12]^=i(n[15]+n[14],7),n[13]^=i(n[12]+n[15],9),n[14]^=i(n[13]+n[12],13),n[15]^=i(n[14]+n[13],18);for(let t=0;t<16;++t)r[t]+=n[t]}function l(r,n,t,e){for(let o=0;o<e;o++)t[o]^=r[n+o]}function s(r,n,t,e,o){for(;o--;)t[e++]=r[n++]}function c(r){if(!r||"number"!=typeof r.length)return!1;for(let n=0;n<r.length;n++){const t=r[n];if("number"!=typeof t||t%1||t<0||t>=256)return!1}return!0}function a(r,n){if("number"!=typeof r||r%1)throw new Error("invalid "+n);return r}function h(r,n,e,i,u,h,p){if(e=a(e,"N"),i=a(i,"r"),u=a(u,"p"),h=a(h,"dkLen"),0===e||0!=(e&e-1))throw new Error("N must be power of 2");if(e>t/128/i)throw new Error("N too large");if(i>t/128/u)throw new Error("r too large");if(!c(r))throw new Error("password must be an array or buffer");if(r=Array.prototype.slice.call(r),!c(n))throw new Error("salt must be an array or buffer");n=Array.prototype.slice.call(n);let w=o(r,n,128*u*i);const y=new Uint32Array(32*u*i);for(let t=0;t<y.length;t++){const r=4*t;y[t]=(255&w[r+3])<<24|(255&w[r+2])<<16|(255&w[r+1])<<8|(255&w[r+0])<<0}const g=new Uint32Array(64*i),b=new Uint32Array(32*i*e),A=32*i,m=new Uint32Array(16),U=new Uint32Array(16),d=u*e*2;let E,k,I=0,x=null,v=!1,N=0,L=0;const P=p?parseInt(1e3/i):4294967295,S="undefined"!=typeof setImmediate?setImmediate:setTimeout,T=function(){if(v)return p(new Error("cancelled"),I/d);let n;switch(N){case 0:k=32*L*i,s(y,k,g,0,A),N=1,E=0;case 1:n=e-E,n>P&&(n=P);for(let r=0;r<n;r++)s(g,0,b,(E+r)*A,A),f(g,A,i,m,U);if(E+=n,I+=n,p){const r=parseInt(1e3*I/d);if(r!==x){if(v=p(null,I/d),v)break;x=r}}if(E<e)break;E=0,N=2;case 2:n=e-E,n>P&&(n=P);for(let r=0;r<n;r++){const r=g[16*(2*i-1)]&e-1;l(b,r*A,g,A),f(g,A,i,m,U)}if(E+=n,I+=n,p){const r=parseInt(1e3*I/d);if(r!==x){if(v=p(null,I/d),v)break;x=r}}if(E<e)break;if(s(g,0,y,k,A),L++,L<u){N=0;break}w=[];for(let r=0;r<y.length;r++)w.push(y[r]>>0&255),w.push(y[r]>>8&255),w.push(y[r]>>16&255),w.push(y[r]>>24&255);const t=o(r,w,h);return p&&p(null,1,t),t}p&&S(T)};if(!p)for(;;){const r=T();if(null!=r)return r}T()}const p={scrypt:function(r,n,t,e,o,f,i){return new Promise((function(u,l){let s=0;i&&i(0),h(r,n,t,e,o,f,(function(r,n,t){if(r)l(r);else if(t)i&&1!==s&&i(1),u(new Uint8Array(t));else if(i&&n!==s)return s=n,i(n)}))}))},syncScrypt:function(r,n,t,e,o,f){return new Uint8Array(h(r,n,t,e,o,f))}};r.exports=p}();var t=n.exports;export{t as s};
