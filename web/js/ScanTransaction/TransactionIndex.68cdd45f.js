import{l as e,m as a,E as t,u as r,b as s,f as o,c as l,d,e as n,n as i,p as u,o as p,r as m,s as c}from"../element-plus/element-plus.e38f20bb.js";import{_ as f,b as w,a as v,g as h}from"../../assets/index.a746f986.js";import{C as y,a0 as _,o as x,c as g,a as b,M as V,a3 as k,S as j,Q as N,U as D,a4 as C,L as E,am as I,an as T,e as G,X as P,t as A,P as L,u as S,O as F,d as O}from"../@vue/@vue.f5a41070.js";import{y as M,A as z,B as H,t as U,b as B,C as q,D as Q,E as R,n as X}from"../@element-plus/@element-plus.f4b8dd72.js";import{A as J}from"../@ethersproject/@ethersproject.b35f154f.js";import{_ as K}from"../CopyIcon/CopyIcon.eb47b247.js";import{e as W}from"../ethers/ethers.273881c9.js";import{a as Y,u as Z}from"../vue-router/vue-router.5c451dd1.js";import{G as $}from"../transactionService/transactionService.2ff13463.js";import{g as ee}from"../transaction/transaction.8aed13a2.js";import"../@vueuse/@vueuse.daa6c377.js";import"../lodash-es/lodash-es.e287ec0c.js";import"../dayjs/dayjs.b9cd4081.js";import"../aes-js/aes-js.d869e6a6.js";import"../@ctrl/@ctrl.17547d95.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../axios/axios.21f17a99.js";import"../scrypt-js/scrypt-js.a8714fed.js";import"../bech32/bech32.8f2f2e26.js";import"../bn.js/bn.js.b1f68973.js";import"../hash.js/hash.js.0b6b30a5.js";import"../minimalistic-assert/minimalistic-assert.9b24acbb.js";import"../inherits/inherits.ea2611ce.js";import"../js-sha3/js-sha3.ea877be6.js";import"../vue-clipboard3/vue-clipboard3.52d51301.js";import"../clipboard/clipboard.6828d272.js";import"../index/index.9f3e1a29.js";const ae=e=>(I("data-v-16369e1c"),e=e(),T(),e),te={class:"log"},re={class:"content"},se=ae((()=>b("p",null,"Transaction Receipt Event Logs",-1))),oe={class:"log-content"},le={class:"icon-circle"},de=ae((()=>b("div",{style:{"font-size":"15px","font-weight":"bold",color:"#4a4f55"}},"Address",-1))),ne={key:0},ie={class:"center-row"},ue={class:"topic-index"},pe={style:{"margin-left":"10px"}},me=C("Data"),ce={class:"center-row",style:{"background-color":"#f8f9fa",width:"90%"}},fe={style:{margin:"20px"}};var we=f(y({__name:"TransactionLogs",props:{transactionLogs:{type:Array,require:!0}},setup(r){const s=r;return(r,o)=>{const l=e,d=_("router-link"),n=a,i=t;return x(),g("div",te,[b("div",re,[se,b("div",oe,[(x(!0),g(V,null,k(s.transactionLogs,((e,a)=>(x(),g("div",{key:a},[b("div",null,[j(n,null,{default:N((()=>[j(l,{span:2},{default:N((()=>[b("div",le,D(e.logIndex),1)])),_:2},1024),j(l,{span:22},{default:N((()=>[b("div",null,[j(n,{class:"log-row"},{default:N((()=>[j(l,{span:2},{default:N((()=>[de])),_:1}),j(l,{span:22},{default:N((()=>[b("div",null,[j(d,{to:"/address/"+e.address},{default:N((()=>[C(D(e.address),1)])),_:2},1032,["to"])])])),_:2},1024)])),_:2},1024),b("div",null,[(x(!0),g(V,null,k(e.topics,((e,a)=>(x(),g("div",{key:a},[j(n,{class:"log-row"},{default:N((()=>[j(l,{span:2},{default:N((()=>[0==a?(x(),g("div",ne,"Topics")):E("",!0)])),_:2},1024),j(l,{span:22},{default:N((()=>[b("div",ie,[b("div",ue,D(a),1),b("div",pe,D(e),1)])])),_:2},1024)])),_:2},1024)])))),128))]),j(n,{class:"log-data-row"},{default:N((()=>[j(l,{span:2},{default:N((()=>[me])),_:1}),j(l,{span:22,style:{"word-break":"break-all"}},{default:N((()=>[b("div",ce,[b("div",fe,D(e.data),1)])])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1024),b("div",null,[j(i)])])])))),128))])])])}}}),[["__scopeId","data-v-16369e1c"]]);const ve={key:0},he={style:{"margin-top":"10px"}},ye=C(" View Input As   "),_e=C(" Default View "),xe=C("Original"),ge=C(" Decode Input Data  "),be={key:1,style:{"margin-top":"10px","margin-bottom":"10px"}},Ve=C("  Switch Back ");var ke=f(y({__name:"InputDataInfo",props:{inputData:String,methodName:String},setup(e){const a=e,t=G(""),p=G(!0),m=P([]),c=e=>{p.value=e},f=()=>{const e=a.inputData.slice(10),r="Function: "+a.methodName,s="MethodID: "+a.inputData.slice(0,10);let o="",l=0;for(let a=0,t=e.length;a<t;a+=64)o+="["+l+"] :    "+e.slice(a,a+64)+"\n",l+=1;t.value=r+"\n\n"+s+"\n"+o},v=()=>{t.value=a.inputData};return A((()=>{if(""!==a.methodName){const e=w(a.methodName);0!==e.length&&((e,a)=>{m.length=0,(new J).decode(e,a).forEach(((a,t)=>{m.push({index:t,type:e[t],data:a})}))})(e,"0x"+a.inputData.slice(10)),f()}else v()})),(e,w)=>{const h=r,y=s,_=o,V=l,k=d,D=n,C=i,I=u;return x(),g("div",null,[p.value?(x(),g("div",ve,[b("div",null,[j(h,{style:{"font-family":"Monaco"},modelValue:t.value,"onUpdate:modelValue":w[0]||(w[0]=e=>t.value=e),rows:"8",placeholder:"Please input","show-word-limit":"",type:"textarea",readonly:!0},null,8,["modelValue"])]),b("div",he,[j(D,null,{dropdown:N((()=>[j(k,null,{default:N((()=>[""!==a.methodName?(x(),L(V,{key:0,onClick:w[1]||(w[1]=e=>f())},{default:N((()=>[_e])),_:1})):E("",!0),j(V,{onClick:w[2]||(w[2]=e=>v())},{default:N((()=>[xe])),_:1})])),_:1})])),default:N((()=>[j(_,{type:"info"},{default:N((()=>[ye,j(y,null,{default:N((()=>[j(S(M))])),_:1})])),_:1})])),_:1}),""!==a.methodName?(x(),L(_,{key:0,type:"info",style:{"margin-left":"10px"},onClick:w[3]||(w[3]=e=>c(!1))},{default:N((()=>[ge,j(y,null,{default:N((()=>[j(S(z))])),_:1})])),_:1})):E("",!0)])])):(x(),g("div",be,[j(I,{data:m,border:"",style:{width:"85%","font-size":"0.4rem","border-radius":"0.4rem"}},{default:N((()=>[j(C,{prop:"index",label:"#"}),j(C,{prop:"type",label:"Type"}),j(C,{prop:"data",label:"Data",width:"500"})])),_:1},8,["data"]),j(_,{style:{"margin-top":"10px"},type:"info",onClick:w[4]||(w[4]=e=>c(!0))},{default:N((()=>[j(y,null,{default:N((()=>[j(S(H))])),_:1}),Ve])),_:1})]))])}}}),[["__scopeId","data-v-37117e86"]]);const je=e=>(I("data-v-65919186"),e=e(),T(),e),Ne={class:"center-row"},De={style:{"max-width":"250px"}},Ce={key:0,style:{"font-weight":"900"}},Ee={key:1,class:"center-row"},Ie={key:2,class:"center-row"},Te={key:3,class:"center-row"},Ge={key:0,class:"center-row"},Pe=C(" Contract   "),Ae=C("   "),Le={key:1,class:"center-row"},Se=C("   "),Fe={key:4},Oe={key:0,class:"center-row"},Me=C(" Contract   "),ze=C(" Created   "),He={key:1,class:"center-row"},Ue=C(" Contract   "),Be=C("   "),qe={key:2,class:"center-row"},Qe=C("   "),Re={key:5},Xe={key:6},Je={class:"center-row"},Ke=je((()=>b("div",{style:{"font-weight":"bold"}},"From",-1))),We=C("     "),Ye=C("     "),Ze=je((()=>b("div",{style:{"font-weight":"bold"}},"To",-1))),$e=C("     "),ea=C("     "),aa={key:0},ta={key:1},ra={key:7},sa={key:8},oa={key:9},la={key:10},da={key:11},na={key:0},ia={class:"success-status"},ua=C("   Success "),pa={key:1},ma={class:"fail-status"},ca=C("   Fail "),fa={key:2},wa={class:"pending-status"},va=C("   Pending "),ha={key:12};var ya=f(y({__name:"TransactionOverview",props:{txOverviews:{type:Array,require:!0}},setup(e){const a=e;return document.title="Transaction overview | The "+v+" Explorer",(e,t)=>{const r=s,o=p,l=i,d=_("router-link"),n=K,m=ke,c=u;return x(),g("div",null,[j(c,{class:"table-border",data:a.txOverviews,"empty-text":"loading...","row-style":{height:"50px"}},{default:N((()=>[j(l,{width:"240"},{default:N((e=>[b("div",Ne,[j(o,{effect:"dark",placement:"top"},{content:N((()=>[b("div",De,D(e.row.parameterExplain),1)])),default:N((()=>[j(r,null,{default:N((()=>[j(S(U))])),_:1})])),_:2},1024),C("  "+D(e.row.parameterDisplay),1)])])),_:1}),j(l,{prop:"parameterValue"},{default:N((e=>["blockNumber"==e.row.parameterName?(x(),g("div",Ce,[j(d,{to:"/block/"+parseInt(e.row.parameterValue)},{default:N((()=>[C(D(parseInt(e.row.parameterValue)),1)])),_:2},1032,["to"])])):"createTime"==e.row.parameterName?(x(),g("div",Ee,[j(r,null,{default:N((()=>[j(S(B))])),_:1}),C(" "+D(S(h)(e.row.parameterValue))+"  ("+D(new Date(1e3*e.row.parameterValue).toUTCString())+") ",1)])):"hash"==e.row.parameterName?(x(),g("div",Ie,[C(D(e.row.parameterValue)+"   ",1),j(n,{text:e.row.parameterValue},null,8,["text"])])):"from"==e.row.parameterName?(x(),g("div",Te,[e.row.parameterValue.fromContract?(x(),g("div",Ge,[Pe,j(d,{to:"/address/"+e.row.parameterValue.from},{default:N((()=>[C(D(e.row.parameterValue.from)+"   "+D(e.row.parameterValue.fromName),1)])),_:2},1032,["to"]),Ae,j(n,{text:e.row.parameterValue.from},null,8,["text"])])):(x(),g("div",Le,[j(d,{to:"/address/"+e.row.parameterValue.from},{default:N((()=>[C(D(e.row.parameterValue.from),1)])),_:2},1032,["to"]),Se,j(n,{text:e.row.parameterValue.from},null,8,["text"])]))])):"to"==e.row.parameterName?(x(),g("div",Fe,[""==e.row.parameterValue.to?(x(),g("div",Oe,[Me,j(d,{to:"/address/"+e.row.parameterValue.contractAddress},{default:N((()=>[C(D(e.row.parameterValue.contractAddress),1)])),_:2},1032,["to"]),ze,j(n,{text:e.row.parameterValue.contractAddress},null,8,["text"])])):e.row.parameterValue.toContract?(x(),g("div",He,[Ue,j(d,{to:"/address/"+e.row.parameterValue.to},{default:N((()=>[C(D(e.row.parameterValue.to)+"   "+D(e.row.parameterValue.toName),1)])),_:2},1032,["to"]),Be,j(n,{text:e.row.parameterValue.to},null,8,["text"])])):(x(),g("div",qe,[j(d,{to:"/address/"+e.row.parameterValue.to},{default:N((()=>[C(D(e.row.parameterValue.to),1)])),_:2},1032,["to"]),Qe,j(n,{text:e.row.parameterValue.to},null,8,["text"])]))])):"value"==e.row.parameterName?(x(),g("div",Re,D(S(W).utils.formatEther(e.row.parameterValue))+" Eth ",1)):"tokensTransferred"==e.row.parameterName?(x(),g("div",Xe,[b("div",{class:F(e.row.parameterValue.length>=3?"rolling":"")},[(x(!0),g(V,null,k(e.row.parameterValue,((e,a)=>(x(),g("div",{key:a},[b("div",Je,[Ke,We,j(d,{to:"/address/"+e.from},{default:N((()=>[C(D(e.from.slice(0,18)+"..."),1)])),_:2},1032,["to"]),Ye,Ze,$e,j(d,{to:"/address/"+e.to},{default:N((()=>[C(D(e.to.slice(0,18)+"..."),1)])),_:2},1032,["to"]),ea,j(d,{to:"/address/"+e.address},{default:N((()=>[e.addressName?(x(),g("div",aa,D(e.addressName),1)):(x(),g("div",ta,D(e.address.slice(0,18)+"..."),1))])),_:2},1032,["to"])])])))),128))],2)])):"gas"==e.row.parameterName?(x(),g("div",ra,D(e.row.parameterValue.gasUsed)+" Gwei | "+D(e.row.parameterValue.gasLimit)+" Gwei("+D(e.row.parameterValue.percent)+") ",1)):"gasPrice"==e.row.parameterName?(x(),g("div",sa,D(S(W).utils.formatEther(e.row.parameterValue))+" Eth ",1)):"maxPriorityFeePerGas"==e.row.parameterName?(x(),g("div",oa," Base: "+D(S(W).utils.formatEther(e.row.parameterValue.baseFeePerGas,"gwei"))+" Gwei | Max: "+D(S(W).utils.formatEther(e.row.parameterValue.maxFeePerGas,"gwei"))+" Gwei | MaxPriority: "+D(S(W).utils.formatEther(e.row.parameterValue.maxPriorityFeePerGas,"gwei"))+" Gwei ",1)):"input"==e.row.parameterName?(x(),g("div",la,[j(m,{inputData:e.row.parameterValue.inputContent,methodName:e.row.parameterValue.methodName},null,8,["inputData","methodName"])])):"status"==e.row.parameterName?(x(),g("div",da,[1==e.row.parameterValue.status?(x(),g("div",na,[b("div",ia,[j(r,{color:"green"},{default:N((()=>[j(S(q))])),_:1}),ua])])):E("",!0),0==e.row.parameterValue.status?(x(),g("div",pa,[b("div",ma,[j(r,{color:"red"},{default:N((()=>[j(S(Q))])),_:1}),ca]),C(" Fail reason : "+D(e.row.parameterValue.errorMsg),1)])):E("",!0),3==e.row.parameterValue.status?(x(),g("div",fa,[b("div",wa,[j(r,null,{default:N((()=>[j(S(R))])),_:1}),va])])):E("",!0)])):(x(),g("div",ha,D(e.row.parameterValue),1))])),_:1})])),_:1},8,["data"])])}}}),[["__scopeId","data-v-65919186"]]);const _a=(e=>(I("data-v-09d9b034"),e=e(),T(),e))((()=>b("div",null,[b("h4",{class:"h4-title"},"Transactions Details")],-1))),xa={class:"more-button"},ga=C("Geth Debug Trace_2");var ba=f(y({__name:"TransactionIndex",props:{txHash:String},setup(t){const r=t,i=G("txs"),u=G(0),p=P([]),f=P([]),w=Y(),v=Z(),h=e=>{("tracetx2"==e||"tracetx"==e)&&v.push("/vmtrace?txhash="+r.txHash+"&type="+e)},y=async e=>{p.length=0,f.length=0;const a=await $(e);u.value=a.data.logs.length,ee(a.data).forEach((e=>{p.push(e)})),a.data.logs.forEach((e=>{f.push(e)}))};return y(r.txHash),O((()=>w.params),(async e=>{e.txHash&&y(e.txHash)})),(t,r)=>{const w=e,v=s,y=o,_=l,V=d,k=n,C=a,I=ya,T=m,G=we,P=c;return x(),g("div",null,[j(C,null,{default:N((()=>[j(w,{span:12},{default:N((()=>[_a])),_:1}),j(w,{span:12,class:"more-info"},{default:N((()=>[b("div",xa,[j(k,{onCommand:h},{dropdown:N((()=>[j(V,null,{default:N((()=>[j(_,{command:"tracetx2"},{default:N((()=>[ga])),_:1})])),_:1})])),default:N((()=>[j(y,{style:{width:"5px"},type:"info",size:"small"},{default:N((()=>[j(v,null,{default:N((()=>[j(S(X))])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1}),j(P,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=e=>i.value=e)},{default:N((()=>[j(T,{label:"Overview",name:"txs"},{default:N((()=>[j(I,{txOverviews:p},null,8,["txOverviews"])])),_:1}),0!=u.value?(x(),L(T,{key:0,name:"logs"},{label:N((()=>[b("span",null,"Logs("+D(u.value)+")",1)])),default:N((()=>[j(G,{transactionLogs:f},null,8,["transactionLogs"])])),_:1})):E("",!0)])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-09d9b034"]]);export{ba as default};
